<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Request a Change Control — ISV Change Control Portal</title>
    <link rel="stylesheet" href="modern.css" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@tabler/icons-webfont@2.30.0/tabler-icons.min.css" />
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        .welcome-banner {
            background: linear-gradient(90deg, var(--surface), rgba(14, 165, 233, 0.1));
            border-radius: 1rem;
            padding: 2rem;
            margin-bottom: 2rem;
            border: 1px solid var(--border);
        }
    </style>
</head>
<body>
    <div class="app-shell">
        <aside class="sidebar">
            <div class="brand">FCC • ISV Change Portal</div>
            <nav>
                <a class="nav-link" href="welcome.html">Home</a>
                <a class="nav-link active" href="#" data-action="change_control">Request Change Control</a>
            </nav>
            <div class="sidebar-footer">Logged in as <span id="profileName" class="profile-pill">Guest</span></div>
        </aside>

        <main class="main-content">
            <header class="bar">
                <div class="bar-left">
                    <h1>Request a Change Control</h1>
                    <p class="muted">Submit a new change control request.</p>
                </div>
                <div class="bar-right">
                    <button id="backToWelcome">Back to Welcome</button>
                </div>
            </header>

            <div class="welcome-banner">
                <strong>Change Control Request Form</strong>
                <div style="color:var(--muted)">Fill out the form below to submit a change control request.</div>
            </div>

            <div style="display: grid; grid-template-columns: 1fr 300px; gap: 2rem;">
                <div>
                    <section>
                        <form id="changeControlForm" style="background: var(--card); padding: 1.5rem; border-radius: 12px; margin-bottom: 2rem; display: flex; flex-direction: column; gap: 1rem;">
                            <h3>Request Details</h3>
                            <div>
                                <label for="requestedBy">Requested By:</label>
                                <input type="text" id="requestedBy" name="requestedBy" required style="width: 100%; padding: 0.5rem; border: 1px solid var(--border); border-radius: 0.5rem;">
                            </div>
                            <div>
                                <label for="dateRequested">Date Requested:</label>
                                <input type="date" id="dateRequested" name="dateRequested" value="" readonly style="width: 100%; padding: 0.5rem; border: 1px solid var(--border); border-radius: 0.5rem; background: var(--surface);">
                            </div>

                            <h3>Change Information</h3>
                            <div>
                                <label for="systemName">Select System:</label>
                                <select id="systemName" name="systemName" required style="width: 100%; padding: 0.5rem; border: 1px solid var(--border); border-radius: 0.5rem;">
                                    <option value="">Select a system</option>
                                    <option value="ERP System">ERP System</option>
                                    <option value="CRM">CRM</option>
                                    <option value="HR Portal">HR Portal</option>
                                    <option value="Financial System">Financial System</option>
                                    <option value="Other">Other</option>
                                </select>
                            </div>
                            <div id="otherSystemDiv" style="display: none;">
                                <label for="otherSystem">Other System:</label>
                                <input type="text" id="otherSystem" name="otherSystem" placeholder="Specify other system" style="width: 100%; padding: 0.5rem; border: 1px solid var(--border); border-radius: 0.5rem;">
                            </div>
                            <div>
                                <label for="changeType">Change Type:</label>
                                <select id="changeType" name="changeType" required style="width: 100%; padding: 0.5rem; border: 1px solid var(--border); border-radius: 0.5rem;">
                                    <option value="">Select change type</option>
                                    <option value="New Install">New Install</option>
                                    <option value="Modification">Modification</option>
                                    <option value="Decommission">Decommission</option>
                                    <option value="Access Management">Access Management</option>
                                    <option value="Patching">Patching</option>
                                </select>
                            </div>

                            <h3>Description</h3>
                            <div>
                                <label for="briefDescription">Full Description of the Request:</label>
                                <textarea id="briefDescription" name="briefDescription" rows="4" required style="width: 100%; padding: 0.5rem; border: 1px solid var(--border); border-radius: 0.5rem;"></textarea>
                            </div>

                            <button type="submit" style="padding: 0.75rem; background: var(--accent); color: white; border: none; border-radius: 0.5rem; cursor: pointer;">Submit Request</button>
                        </form>
                    </section>
                </div>

                <aside>
                    <div class="sidebar-info" style="background: var(--card); padding: 1.5rem; border-radius: 12px; margin-bottom: 1rem;">
                        <h4>Change Control Guidelines</h4>
                        <p style="color: var(--muted); font-size: 0.875rem;">All changes must be documented and approved before implementation.</p>
                        <p><a href="#" style="color: var(--accent);">View Full Guidelines</a></p>
                    </div>
                    <div class="sidebar-info" style="background: var(--card); padding: 1.5rem; border-radius: 12px;">
                        <h4>Recent Activity</h4>
                        <div style="font-size: 0.875rem; color: var(--text-muted);">
                            <div>CHG-001 approved by J. Daniels</div>
                            <div style="margin-top: 0.5rem;">CHG-004 approved by R. Patel</div>
                        </div>
                    </div>
                </aside>
            </div>

            <footer class="foot">This is a demo page.</footer>
        </main>
    </div>

    <script>
        document.getElementById('backToWelcome').addEventListener('click', () => {
            window.location.href = 'welcome.html';
        });
        const profileName = document.getElementById('profileName');
        const user = sessionStorage.getItem('demoUser') || 'Guest';
        profileName.textContent = user;
    </script>
</body>
</html>
